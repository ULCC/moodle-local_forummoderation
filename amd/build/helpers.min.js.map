{"version":3,"file":"helpers.min.js","sources":["../src/helpers.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * AMD module used when managing enterprise customfields.\n *\n * @module      local_forummoderation\n * @copyright   2024 Yahya (yahya@teruselearning.co.uk)\n * @license     http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n * */\n\nclass Helpers {\n    createSpinner(classname) {\n        const spinner = document.createElement(\"div\");\n        spinner.className = classname;\n        return spinner;\n    }\n    createLinkReportModerator() {\n        let postActionDivs = document.querySelectorAll('div.post-actions');\n        postActionDivs.forEach((postActionDiv) => {\n            let allLinks = postActionDiv.querySelectorAll('a');\n            var linksWithDataPostId = Array.from(allLinks).filter(function (link) {\n                return link.hasAttribute('data-post-id');\n            });\n\n            if (linksWithDataPostId.length > 0) {\n                var postId = linksWithDataPostId[0].getAttribute('data-post-id');\n                var newLink = document.createElement('a');\n                newLink.href = '#';\n                newLink.classList.add('btn', 'btn-link');\n                newLink.textContent = 'Report to moderator';\n                newLink.setAttribute(\"data-action\", \"forummoderation-reportpost\");\n                newLink.setAttribute('data-post-id', postId);\n                postActionDiv.insertBefore(newLink, postActionDiv.firstChild);\n            }\n        });\n    }\n}\nexport default Helpers;"],"names":["createSpinner","classname","spinner","document","createElement","className","createLinkReportModerator","querySelectorAll","forEach","postActionDiv","allLinks","linksWithDataPostId","Array","from","filter","link","hasAttribute","length","postId","getAttribute","newLink","href","classList","add","textContent","setAttribute","insertBefore","firstChild"],"mappings":";;;;;;;;MAwBIA,cAAcC,iBACJC,QAAUC,SAASC,cAAc,cACvCF,QAAQG,UAAYJ,UACbC,QAEXI,4BACyBH,SAASI,iBAAiB,oBAChCC,SAASC,oBAChBC,SAAWD,cAAcF,iBAAiB,SAC1CI,oBAAsBC,MAAMC,KAAKH,UAAUI,QAAO,SAAUC,aACrDA,KAAKC,aAAa,sBAGzBL,oBAAoBM,OAAS,EAAG,KAC5BC,OAASP,oBAAoB,GAAGQ,aAAa,gBAC7CC,QAAUjB,SAASC,cAAc,KACrCgB,QAAQC,KAAO,IACfD,QAAQE,UAAUC,IAAI,MAAO,YAC7BH,QAAQI,YAAc,sBACtBJ,QAAQK,aAAa,cAAe,8BACpCL,QAAQK,aAAa,eAAgBP,QACrCT,cAAciB,aAAaN,QAASX,cAAckB"}